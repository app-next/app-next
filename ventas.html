
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Registro de Ventas - NEXT</title>
  <link rel="stylesheet" href="estilos.css"/>
</head>
<body>
  <img src="logo.png" alt="NEXT Logo" style="max-width: 150px; margin: 1rem auto; display: block;">
  <form id="formulario">
    <input type="text" name="codigo" placeholder="Código" required />
    <input type="text" name="cliente" placeholder="Cliente" required />
    <input type="text" name="producto" placeholder="Producto" required />
    <input type="number" name="cantidad" placeholder="Cantidad" required />
    <input type="number" name="precio" placeholder="Precio Unitario" required />
    <input type="text" name="metodo_pago1" placeholder="Método Pago 1" required />
    <input type="number" name="monto1" placeholder="Monto Pago 1" required />
    <input type="text" name="metodo_pago2" placeholder="Método Pago 2 (opcional)" />
    <input type="number" name="monto2" placeholder="Monto Pago 2 (opcional)" />
    <input type="number" name="tasa" placeholder="Tasa BCV" />
    <input type="text" name="fecha" placeholder="Fecha" required />
    <textarea name="observaciones" placeholder="Observaciones"></textarea>
    <button type="submit">Enviar</button>
  </form>
  <p id="mensaje"></p>

  <script>
    const formulario = document.getElementById("formulario");
    const mensaje = document.getElementById("mensaje");
    const endpoint = "https://script.google.com/macros/s/AKfycbxpaVldshku5oRYcyAxpzmeeW6fRZ20Cg8kTiYPS2I7L0bYMoDCSLND-42jcI9yX6u-QA/exec";

    formulario.onsubmit = async (e) => {
      e.preventDefault();
      const datos = Object.fromEntries(new FormData(formulario).entries());

      try {
        const res = await fetch(endpoint, {
          method: "POST",
          body: JSON.stringify(datos),
        });

        if (res.ok) {
          mensaje.textContent = "✅ Venta registrada correctamente.";
          mensaje.style.color = "green";
          formulario.reset();
        } else {
          mensaje.textContent = "❌ Error al registrar la venta.";
          mensaje.style.color = "red";
        }
      } catch (err) {
        mensaje.textContent = "❌ Error al registrar la venta.";
        mensaje.style.color = "red";
        console.error(err);
      }
    };
  </script>
</body>
</html>
